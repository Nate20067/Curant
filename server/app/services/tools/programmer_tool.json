[
  {
    "type": "function",
    "function": {
      "name": "read_file",
      "description": "Reads a file from the sandbox so the programmer can examine or review code before editing.",
      "parameters": {
        "type": "object",
        "properties": {
          "relative_file": { "type": "string" }
        },
        "required": ["relative_file"]
      }
    }
  },

  {
    "type": "function",
    "function": {
      "name": "update_file",
      "description": "Rewrites an existing file with new content. Used for applying bug fixes from validator feedback.",
      "parameters": {
        "type": "object",
        "properties": {
          "relative_file": { "type": "string" },
          "content": { "type": "string" },
          "append": { "type": "boolean", "default": false }
        },
        "required": ["relative_file", "content"]
      }
    }
  },

  {
    "type": "function",
    "function": {
      "name": "create_file",
      "description": "Creates a new file in the sandbox with specified content.",
      "parameters": {
        "type": "object",
        "properties": {
          "relative_file": { "type": "string" },
          "content": { "type": "string" }
        },
        "required": ["relative_file", "content"]
      }
    }
  },

  {
    "type": "function",
    "function": {
      "name": "delete_file",
      "description": "Deletes a file from the sandbox if no longer needed.",
      "parameters": {
        "type": "object",
        "properties": {
          "relative_file": { "type": "string" }
        },
        "required": ["relative_file"]
      }
    }
  },

  {
    "type": "function",
    "function": {
      "name": "move_file",
      "description": "Moves or renames a file inside the sandbox workspace.",
      "parameters": {
        "type": "object",
        "properties": {
          "source_file": { "type": "string" },
          "destination_file": { "type": "string" }
        },
        "required": ["source_file", "destination_file"]
      }
    }
  },

  {
    "type": "function",
    "function": {
      "name": "search_web",
      "description": "Searches the web (DuckDuckGo HTML) for troubleshooting information, errors, or documentation. Programmer uses this before writing code or fixing bugs.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": { "type": "string" },
          "max_results": { "type": "integer", "default": 5 }
        },
        "required": ["query"]
      }
    }
  },

  {
    "type": "function",
    "function": {
      "name": "fetch_web_page",
      "description": "Fetches full content from a URL to read documentation, API guides, error references, or tutorials.",
      "parameters": {
        "type": "object",
        "properties": {
          "url": { "type": "string" }
        },
        "required": ["url"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "stage_files",
      "description": "Stage selected files in git so they can be committed once implementation is ready.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_list": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["file_list"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "commit_changes",
      "description": "Commit staged changes with a descriptive message.",
      "parameters": {
        "type": "object",
        "properties": {
          "message": { "type": "string" }
        },
        "required": ["message"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "push_to_remote",
      "description": "Push committed changes to the remote branch when ready for review.",
      "parameters": {
        "type": "object",
        "properties": {
          "remote_name": { "type": "string", "default": "origin" }
        }
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "write_agent_update",
      "description": "Share a programming status update or question with the designer and validator.",
      "parameters": {
        "type": "object",
        "properties": {
          "role": { "type": "string", "description": "Agent role submitting the update (e.g., programmer)." },
          "message": { "type": "string", "description": "Summary of implementation progress or required clarifications." },
          "audience": { "type": "string", "description": "Optional intended audience (designer, validator, all)." }
        },
        "required": ["role", "message"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "read_agent_updates",
      "description": "Read the latest shared notes from designer or validator agents.",
      "parameters": {
        "type": "object",
        "properties": {
          "limit": { "type": "integer", "default": 5 },
          "include_roles": {
            "type": "array",
            "items": { "type": "string" }
          },
          "audience": { "type": "string", "description": "Filter updates intended for programmer or all." }
        }
      }
    }
  }
]
